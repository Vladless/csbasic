	# INTERRUPT HANDLER
	ORG 000
	RET WORD 
	HLT
	BR 140 # INT 
	# DATA SECTION
	ORG 052
	X WORD 0030
ORG 060
SAVED_A WORD 
SAVED_C WORD 
MAX_VAL WORD 41
MIN_VAL WORD C2
SATIC_NUM_THREE WORD 3
SATIC_NUM_FOUR WORD 4
TMP WORD 
N_MASK_FOR_HWORD WORD 080
# CODE SECTION
ORG 070
BEGIN
EI
MAIN
ORG 080
LOOP
CLA
ADD 052
DI
JSR 090 # CHECK_RANGE
EI
CLA
ADD 052
ADD 064 # ADD SATIC_NUM_THREE
MOV 052
BR 080  # LOOP
ORG 090
CHECK_RANGE
NOP
MOV 066 # MOV TMP
AND 067 # N_MASK_FOR_HWORD
BEQ 100 # CHECK_RIGHT
BPL 110 # CHECK_LEFT
BR (090)
ORG 100
CHECK_RIGHT
CLA
ADD 066
SUB 062 # SUB MAX_VAL
BPL 120 # RETURN_MIN
CLA
ADD 066 # ADD MAX_VAL
MOV 052 # MOV X
BR 095  # RETURN
ORG 110
CHECK_LEFT
CLA
ADD 066
SUB 063 # ADD MIN_VAL
BPL 120 # RETURN_MIN
CLA
ADD 063 # ADD MIN_VAL
MOV 052 # MOV X
BR 095  # RETURN
ORG 120
RETURN_MIN
CLA
ADD 063 # ADD MIN_VAL
MOV 052 # MOV X
CLA
BR 095  # RETURN TO CHECK_RANGE
ORG 140
INT
MOV 060 # MOV SAVED_A
ROL
MOV 061 # SAVED_C
 ROR
ORG 150
INT3
TSF 3
BR 160  # INT2
BR 180  # READY3
ORG 160
INT2
TSF 2
BR 170 # INT1
BR 190 # READY2
ORG 170
INT1
CLF 1
BR 1B0 # RESTORE
ORG 180
READY3
JSR 1A0 # COMPUTE_FUNC
ADD 066 # ADD TEMP
OUT 3
CLF 3
CLA
BR 1B0  # RESTORE
ORG 190
READY2
CLA
IN 2
CLF 2
AND 052 # AND X
BR 1B0  # RESTORE
ORG 1A0
COMPUTE_FUNC
NOP
CLA
ADD 052 # ADD X
ADD 052 # ADD X
SUB 065 # SUB SATIC_NUM_FOUR
MOV 066 # TEMP
CLA
BR (1A0) 
ORG 1B0
RESTORE
HLT
CLA
ADD 061 # SAVED_C
ROR 
CLA
CMA
AND 060 # SAVED_A
NOP
EI	
BR (000)